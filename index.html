<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF‑8" />
	<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
	<style>
		body,
		html {
			overflow: hidden;
			margin: 0;
			height: 100vh;
		}
		model-viewer {
			display: flex;
			width: 100%;
			height: 100%;
			cursor: grab;
			user-select: none;
		}
		.error-message {
			display: flex;
			justify-content: center;
			align-items: center;
			height: 100vh;
			text-align: center;
			font-family: Arial, sans-serif;
			color: #666;
		}
		.hidden {
			display: none;
		}
	</style>
</head>

<body>
	<model-viewer id="modelViewer" alt="A 3D model" exposure="0.008" ar auto-rotate rotation-per-second="30deg" auto-rotate-delay="2000" camera-controls class="hidden">
	</model-viewer>
	<script>
		// 从URL参数中获取模型URL
		function getModelUrlFromParams() {
			const urlParams = new URLSearchParams(window.location.search);
			return urlParams.get('glbSrc');
		}

		// 设置模型URL
		function setModelUrl() {
			const modelViewer = document.getElementById('modelViewer');
			const noModelMessage = document.getElementById('noModelMessage');
			const modelUrl = getModelUrlFromParams();

			if (modelUrl) {
				// 如果URL参数中有glbSrc，显示模型并隐藏提示信息
				modelViewer.src = decodeURIComponent(modelUrl);
				modelViewer.classList.remove('hidden');
				noModelMessage.classList.add('hidden');
			} else {
				// 如果没有URL参数，显示提示信息并隐藏模型
				modelViewer.classList.add('hidden');
				noModelMessage.classList.remove('hidden');
			}
		}

		// 页面加载完成后设置模型URL
		window.addEventListener('DOMContentLoaded', setModelUrl);
	</script>
</body>

</html>